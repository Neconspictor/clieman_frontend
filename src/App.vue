<template>
    <v-app class="my-app">
        -
        <v-app-bar
            app
            src="https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"
            dark
        >
            <v-toolbar-title>Dateman</v-toolbar-title>
            <v-spacer></v-spacer>
            <v-btn
                v-for="link in links"
                :key="`${link.label} - header-link`"
                text
                rounded
                :to="link.route"
            >
                {{ link.label }}
            </v-btn>

            <v-menu offset-y>
                <template v-slot:activator="{ on }">
                    <v-btn icon text rounded v-on="on">
                        <v-icon>mdi-menu</v-icon>
                    </v-btn>
                </template>

                <v-list>
                    <v-list-item @click="toggleTheme">
                        <v-avatar color="grey" size="36" class="mr-2">
                            <iconify-icon
                                :class="
                                    `v-icon ${
                                        isDark ? 'theme--dark' : 'theme--light'
                                    }`
                                "
                                :icon="icons.baselineBedtime"
                            />
                        </v-avatar>
                        {{ this.$i18n.t('nightmode') }}

                        <v-spacer></v-spacer>

                        <v-switch
                            class="ml-2"
                            disabled
                            :value="this.$vuetify.theme.dark"
                        >
                        </v-switch>
                    </v-list-item>

                    <v-list-item @click="$router.push({ name: 'settings' })">
                        <v-avatar color="grey" size="36" class="mr-2">
                            <v-icon>settings</v-icon>
                        </v-avatar>
                        {{ this.$i18n.t('settings') }}
                    </v-list-item>
                </v-list>
            </v-menu>
        </v-app-bar>

        <!--<router-view />-->

        <v-main class="scrollable">
            <router-view />
        </v-main>

        <v-footer
            padless
            style="background: url('https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg');"
        >
            <v-row justify="center" no-gutters>
                <v-btn
                    v-for="link in links"
                    :key="`${link.label} - footer-link`"
                    text
                    rounded
                    :to="link.route"
                    dark
                >
                    {{ link.label }}
                </v-btn>
                <v-col class="py-4 text-center white--text" cols="12" dark>
                    {{ new Date().getFullYear() }} â€”
                    <strong>Dateman</strong>
                </v-col>
            </v-row>
        </v-footer>
    </v-app>
</template>

<script>
import accountIcon from '@iconify/icons-mdi/account'
import baselineBedtime from '@iconify/icons-ic/baseline-bedtime'

export default {
    name: 'App',

    data() {
        return {
            icons: { account: accountIcon, baselineBedtime: baselineBedtime },
        }
    },

    computed: {
        isDark() {
            return this.$vuetify.theme.dark
        },
        links() {
            return [
                {
                    label: this.$i18n.t('calendar'),
                    route: { name: 'calendar' },
                },
                {
                    label: this.$i18n.t('clients'),
                    route: { name: 'clients' },
                },
                {
                    label: this.$i18n.t('login'),
                    route: { name: 'login' },
                },
            ]
        },
    },

    methods: {
        toggleTheme() {
            this.$vuetify.theme.dark = !this.$vuetify.theme.dark
        },
    },
}
</script>

<!-- global style -->
<style lang="scss">
// Import the Vuetify styles somewhere global
@import '~vuetify/src/styles/styles.sass';

.tool-header {
    color: white;
}
</style>

<style scoped="true">
.scrollable {
    overflow: auto;
    //height: 100%;
}

.my-app {
    width: 100%;
    //height: 100vh;
}
</style>
